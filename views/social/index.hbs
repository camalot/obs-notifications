{{#section 'title'}}Social{{/section}} {{#section 'header'}} {{!--
<div class="mdl-layout__tab-bar mdl-js-ripple-effect">
	<a href="#fixed-tab-1" class="mdl-layout__tab is-active">Networks</a>
	<a href="#fixed-tab-2" class="mdl-layout__tab">Accounts</a>
</div> --}} {{/section}}

<div class="page-content">
	<div class="mdl-grid">
		<div class="mdl-cell mdl-cell--6-col">
			<table class="mdl-data-table mdl-js-data-table" style="width: 80%;">
				<thead>
					<tr>
						<th style="text-transform: uppercase;" colspan="2" class="mdl-data-table__cell--non-numeric">Networks</th>
						<th style="text-transform: uppercase;" class="mdl-data-table__cell--non-numeric">System</th>
						<th><button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" data-dialog="new-network-dialog">
								Add Network
							</button></th>
					</tr>
				</thead>
				<tbody>
					{{#each data.networks}}
					<form>
						<tr style="background-color: {{background}}; color: {{color}};">
							<td style="background-color: {{background}}; width:60px" class="mdl-data-table__cell--non-numeric"><img src="{{image}}"
								/></td>
							<td style="background-color: {{background2}}; text-transform: uppercase;" class="mdl-data-table__cell--non-numeric">{{name}}</td>
							<td class="mdl-data-table__cell--non-numeric" style="background-color: {{background2}}; text-align: center;width: 100px;">
								<label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="system-{{name}}-{{id}}">
									<input type="checkbox" id="system-{{name}}-{{id}}" class="mdl-checkbox__input" {{#if system}}checked{{/if}} disabled />
								</label>
							</td>
							<td style="background-color: {{background2}}; width: 100px;">
								<button class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect mdl-color-text--{{#if system}}grey-500{{else}}white{{/if}}" type="button" alt="edit" {{#if system}}disabled{{/if}}>
									<i class="material-icons">edit</i>
								</button>
								<button class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect mdl-color-text--{{#if system}}grey-500{{else}}white{{/if}}" type="button" alt="delete" {{#if system}}disabled{{/if}} {{#unless system}}data-dialog="network-delete-{{name}}-dialog"{{/unless}}>
									<i class="material-icons">delete</i>
								</button>
							</td>
						</tr>
					</form>
					{{/each}}
				</tbody>
			</table>
		</div>
		<div class="mdl-cell mdl-cell--6-col">
			<table class="mdl-data-table mdl-js-data-table" style="width: 80%;">
				<thead>
					<tr>
						<th style="text-transform: uppercase;" colspan="2" class="mdl-data-table__cell--non-numeric">Accounts</th>
						<th style="text-transform: uppercase;" class="mdl-data-table__cell--non-numeric">Enabled</th>
						<th><button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" data-dialog="new-account-dialog">
								Add Account
							</button></th>
					</tr>
				</thead>
				<tbody>
					{{#each data.accounts}}
					<form>
						<tr style="background-color: {{network.background}}; color: {{network.color}};">
							<td style="background-color: {{network.background}}; width:60px" class="mdl-data-table__cell--non-numeric"><img src="{{network.image}}"
								/></td>
							<td style="background-color: {{network.background2}}; text-transform: uppercase;" class="mdl-data-table__cell--non-numeric">{{name}}</td>
							<td class="mdl-data-table__cell--non-numeric" style="background-color: {{network.background2}}; text-align: center;width: 100px;">
								<label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="account-{{name}}-{{id}}-enabled">
									<input type="checkbox" id="account-{{name}}-{{id}}-enabled" class="mdl-switch__input" {{#if enabled}}checked{{/if}} />
								</label>
							</td>
							<td style="background-color: {{network.background2}}; width: 100px;">
								<button class="mdl-button mdl-js-button mdl-button--icon mdl-color-text--white mdl-js-ripple-effect" type="button" alt="edit">
									<i class="material-icons">edit</i>
								</button>

								<button class="mdl-button mdl-js-button mdl-button--icon mdl-color-text--white mdl-js-ripple-effect" type="button" alt="delete">
									<i class="material-icons">delete</i>
								</button>

							</td>
						</tr>
					</form>
					{{/each}}
				</tbody>
			</table>
			{{!--
			<td style="background-color: {{background2}};" class="mdl-data-table__cell--non-numeric">

				<div class="mdl-textfield mdl-js-textfield" style="margin: 0;">
					<input class="mdl-textfield__input" type="text" id="input-{{name}}-{{id}}">
					<label class="mdl-textfield__label" for="input-{{name}}-{{id}}" style="color: {{color}}; text-transform: capitalize;">{{name}}
						Account Name...</label>
				</div>
			</td> --}} {{!--
			<td class="mdl-data-table__cell--non-numeric" style="background-color: {{background2}}; text-align: center; width: 100px;">
				<label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="enabled-{{name}}-{{id}}">
					<input type="checkbox" id="enabled-{{name}}-{{id}}" class="mdl-switch__input" {{#if enabled}}checked{{/if}} />
				</label>
			</td> --}}
		</div>
		<div class="mdl-page-fab">
			<button class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">
				<i class="material-icons">add</i>
			</button>
		</div>
	</div>
</div>

<div id="network-dialogs">
	<dialog class="mdl-dialog" id="new-network-dialog" style="width: 50%;">
		<form action="/admin/social/network" method="post" enctype="application/x-www-form-urlencoded">
			<h4 class="mdl-dialog__title">Add New Network</h4>
			<div class="mdl-dialog__content">
				<div class="mdl-textfield mdl-js-textfield">
					<input class="mdl-textfield__input" type="text" name="name" pattern="^[a-z][a-z0-9_]*$" id="network-name" required>
					<label class="mdl-textfield__label" for="network-name">Name</label>
					<span class="mdl-textfield__error">Must start with a letter, and is required</span>
				</div>

				<div class="mdl-textfield mdl-js-textfield">
					<input class="mdl-textfield__input" type="text" name="fgcolor" pattern="^#(:?[a-fA-F0-9]{3}){1,2}$" id="network-fgcolor"
					 required>
					<label class="mdl-textfield__label" for="network-fgcolor">Foreground Color</label>
					<span class="mdl-textfield__error">This field must be a valid HTML HEX Code</span>
				</div>

				<div class="mdl-textfield mdl-js-textfield">
					<input class="mdl-textfield__input" type="text" name="bgcolor" pattern="^#(:?[a-fA-F0-9]{3}){1,2}$" id="network-bgcolor"
					 required>
					<label class="mdl-textfield__label" for="network-bgcolor">Background Color</label>
					<span class="mdl-textfield__error">This field must be a valid HTML HEX Code</span>
				</div>

				<div class="mdl-textfield mdl-js-textfield">
					<input class="mdl-textfield__input" type="text" name="bgcolor2" pattern="^#(:?[a-fA-F0-9]{3}){1,2}$" id="network-bgcolor2">
					<label class="mdl-textfield__label" for="network-bgcolor2">Secondary Background Color</label>
					<span class="mdl-textfield__error">This field must be a valid HTML HEX Code</span>
				</div>

				<div class="mdl-textfield mdl-js-textfield">
					{{!-- <input class="mdl-textfield__input" type="file" pattern="\.png$" id="network-image" required> --}}
					<input class="mdl-textfield__input" type="text" name="image" id="network-image" required>
					<label class="mdl-textfield__label" for="network-image">Image</label>
					<span class="mdl-textfield__error">No!</span>
				</div>
			</div>
			<div class="mdl-dialog__actions">
				<button type="button" class="mdl-button mdl-js-button close">Cancel</button>
				<button type="submit" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--primary mdl-button--raised">Save</button>
			</div>
		</form>
	</dialog>

	{{#each data.networks}} {{#if system}}
	<dialog id="network-delete-{{name}}-dialog" class="mdl-dialog" style="width: 50%">
		<form href="./network/delete" method="post" enctype="application/x-www-form-urlencoded">
			<input type="hidden" value="{{id}}" />
			<h4 class="mdl-dialog__title">Delete '{{name}}' Network?</h4>
			<div class="mdl-dialog__content" class="mdl-dialog">
				<p>
					Are you sure you want to delete this network? Any accounts using it will also be deleted.
				</p>
				<p><b>THIS CANNOT BE UNDONE.</b></p>
			</div>
			<div class="mdl-dialog__actions">
				<button type="button" class="mdl-button close">Cancel</button>
				<button type="submit" class="mdl-button mdl-js-button mdl-color--red-500 mdl-color-text--white mdl-js-ripple-effect">Yes, Delete!</button>
			</div>
		</form>
	</dialog>
	{{/if}} {{/each}}
</div>

<div id="account-dialogs">
	<dialog class="mdl-dialog" id="new-account-dialog" style="width: 50%;">
		<form action="/admin/social/account" method="post" enctype="application/x-www-form-urlencoded">
		<h4 class="mdl-dialog__title">Add New Account</h4>
		<div class="mdl-dialog__content">
			<div class="mdl-textfield mdl-js-textfield">
				<select class="mdl-textfield__input" name="network" id="account-network" required>
					<option value=""></option>
					{{#each data.networks}}
						<option value="{{id}}">{{name}}</option>
					{{/each}}
				</select>
				<label class="mdl-textfield__label" for="account-network">Network</label>
				<span class="mdl-textfield__error">Must start with a letter, and is required</span>
			</div>
		
			<div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" type="text" name="name" id="account-name"
				 required>
				<label class="mdl-textfield__label" for="account-name">Account Name</label>
				<span class="mdl-textfield__error">Must enter an account name.</span>
			</div>
		
			<div class="mdl-textfield">
				<label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="account-enabled">
					<input type="checkbox" id="account-enabled" class="mdl-switch__input" checked value="1" />
					<span for="account-enabled" style="padding-left: 20px;">Enabled</span>
				</label>
			</div>
		</div>
		<div class="mdl-dialog__actions">
			<button type="button" class="mdl-button mdl-js-button close">Cancel</button>
			<button type="submit" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--primary mdl-button--raised">Save</button>
		</div>
		</form>
	</dialog>
</div>
